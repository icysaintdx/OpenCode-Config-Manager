# OpenCode Config Manager 使用指南

OpenCode Config Manager 是一款专为 OpenCode 和 Oh My OpenCode 设计的可视化配置管理工具。通过图形界面，你可以轻松管理 AI 编程助手的各项配置，无需手动编辑复杂的 JSON 文件。

## 核心功能特点

OpenCode Config Manager 提供了完整的配置管理功能，主要包括以下几个方面：

配置管理方面，软件支持管理 Provider（API 提供商）、Model（AI 模型）、MCP Server（模型上下文协议服务器）、Agent（智能代理）、Permission（权限控制）、Skill（技能扩展）、Rules（规则配置）等核心组件。

界面设计采用 Fluent Design 风格，提供现代化的卡片布局，支持深浅色主题自动切换，所有操作都通过可视化界面完成，降低了配置门槛。

软件内置智能配置验证功能，启动时会自动检测配置文件中的问题，并提供一键修复功能。同时支持配置文件的备份和恢复，确保配置安全。

跨平台支持是另一大特点，软件原生支持 Windows、macOS 和 Linux 三大平台，并且支持从 Claude Code、Codex、Gemini 等工具导入配置。

最新版本还加入了完整的多语言支持，提供简体中文和英文两种界面语言，可以根据系统语言自动识别，也支持手动切换。

## 软件界面布局

软件采用左右分栏布局。左侧是导航栏，包含所有功能页面的入口，默认展开状态。右侧是主要的工作区域，显示当前选中页面的内容。

导航栏底部有两个特殊按钮，一个是主题切换按钮，可以在深色和浅色主题之间切换。另一个是语言切换按钮，可以在中文和英文界面之间切换。

## 首页

首页是软件的起始页面，展示了软件的基本信息和配置文件的状态。

页面顶部显示软件的 Logo 和版本号，以及项目的 GitHub 链接和作者信息。点击这些按钮可以快速访问项目主页或作者的 GitHub 页面。

配置路径区域显示了 OpenCode 和 Oh My OpenCode 两个配置文件的实际存储位置。这些路径通常位于用户目录下的 .config/opencode 文件夹中。

配置统计区域展示了当前配置文件中各类配置项的数量，包括 Provider 数量、Model 数量、MCP Server 数量、Agent 数量等。这些数字会随着配置的变化实时更新。

工具栏提供了几个常用的快捷操作。备份管理按钮可以打开备份管理对话框，查看和恢复历史备份。刷新配置按钮会重新加载配置文件，适用于外部修改了配置文件的情况。打开配置目录按钮可以直接在文件管理器中打开配置文件所在的文件夹。

## Provider 管理

Provider 管理页面用于配置 API 提供商的信息。每个 Provider 代表一个 AI 服务提供商，比如 Anthropic、OpenAI、Google 等。

页面顶部的工具栏有三个按钮。添加 Provider 按钮用于创建新的 Provider 配置。从预设添加按钮提供了常用 Provider 的快速添加功能，包括 Anthropic、OpenAI、Google、Azure 等。刷新按钮用于重新加载 Provider 列表。

Provider 列表以表格形式展示，每一行代表一个 Provider。表格包含 Provider 名称、SDK 类型、API Key（部分隐藏）、Base URL 等信息。

点击某个 Provider 可以选中它，然后可以使用编辑或删除按钮进行操作。编辑按钮会打开编辑对话框，可以修改 Provider 的各项配置。删除按钮会删除选中的 Provider。

添加或编辑 Provider 时，需要填写以下信息：

Provider 名称是必填项，用于标识这个 Provider。SDK 类型需要从下拉列表中选择，支持 @ai-sdk/anthropic、@ai-sdk/openai、@ai-sdk/google、@ai-sdk/azure 等。

API Key 是访问 API 的密钥，可以选择从环境变量读取或直接输入。如果选择环境变量，需要填写环境变量名称，比如 ANTHROPIC_API_KEY。如果选择直接输入，需要在输入框中填写完整的 API Key。

Base URL 是可选项，用于自定义 API 的访问地址。如果不填写，会使用默认的官方地址。

Headers 是可选的 HTTP 请求头，可以添加多个键值对。每个 Header 包含一个键和一个值。

配置完成后，点击保存按钮即可保存 Provider 配置。软件会自动将配置写入 opencode.json 文件。

## 原生 Provider

原生 Provider 页面用于管理 OpenCode 官方支持的 AI 服务提供商。这些 Provider 不需要手动配置 SDK，OpenCode 会自动处理。

页面顶部的工具栏提供了添加和刷新功能。添加按钮可以从预设列表中选择要添加的原生 Provider。

预设列表包含了多个国内外的 AI 服务提供商：

国外平台包括 Anthropic Claude、OpenAI、Google Gemini、Mistral AI、Cohere、Groq、Together AI、Fireworks AI、Perplexity、Cerebras、xAI Grok、Replicate。

国内平台包括智谱 GLM、千问 Qwen、Kimi（月之暗面）、零一万物 Yi、MiniMax。

选择一个 Provider 后，需要配置 API Key。可以选择从环境变量读取，也可以直接输入。软件会自动检测对应的环境变量名称，比如 Anthropic 对应 ANTHROPIC_API_KEY。

对于国内平台，软件会自动填充正确的 Base URL，无需手动配置。

配置完成后，点击保存按钮即可添加原生 Provider。这些配置会保存到 opencode.json 文件的 nativeProvider 字段中。

## Model 管理

Model 管理页面用于配置 AI 模型。每个 Model 需要关联到一个 Provider，并指定模型的 ID 和参数。

页面顶部的工具栏提供了多个功能按钮。添加 Model 按钮用于创建新的模型配置。从预设添加按钮提供了常用模型的快速添加功能，包括 Claude、GPT、Gemini 等系列模型。批量模型按钮可以一次性添加多个模型。刷新按钮用于重新加载模型列表。

模型列表以表格形式展示，显示模型名称、Provider、模型 ID、是否启用等信息。

添加或编辑模型时，需要填写以下信息：

模型名称是必填项，用于在 OpenCode 中标识这个模型。Provider 需要从下拉列表中选择，列表中包含了所有已配置的 Provider。模型 ID 是必填项，需要填写 API 提供商定义的模型标识符，比如 claude-3-5-sonnet-20241022。

Options 是模型的默认配置参数，这些参数会在每次调用模型时使用。常用的参数包括 temperature（温度，控制输出的随机性）、maxTokens（最大令牌数）、topP（核采样参数）等。

对于支持思考模式的模型，还可以配置 thinking 相关参数。Claude 模型支持 thinking.type 和 thinking.budgetTokens。OpenAI 模型支持 reasoningEffort（可选 high、medium、low、xhigh）。Gemini 模型支持 thinkingConfig.thinkingBudget。

Variants 是可切换的变体配置。可以定义多个变体，每个变体有不同的参数设置。在使用时可以通过快捷键切换不同的变体。

配置完成后，点击保存按钮即可保存模型配置。

从预设添加模型时，软件会自动填充模型的基本信息和推荐参数。你可以根据需要修改这些参数。

批量模型功能允许一次性添加多个模型。选择一个 Provider 后，软件会列出该 Provider 支持的所有预设模型。勾选需要添加的模型，点击添加按钮即可批量创建。

## MCP 服务器

MCP 服务器页面用于管理模型上下文协议服务器。MCP Server 可以为 AI 模型提供额外的工具和数据源。

页面顶部的工具栏提供了多个功能。添加本地 MCP 按钮用于添加本地运行的 MCP 服务器。添加远程 MCP 按钮用于添加远程 HTTP 服务器。从预设添加按钮提供了常用 MCP 服务器的快速添加功能。Oh My MCP 按钮用于管理 Oh My OpenCode 内置的 MCP 服务器。刷新按钮用于重新加载列表。

MCP 服务器列表以表格形式展示，显示服务器名称、类型（本地/远程）、是否启用等信息。

添加本地 MCP 服务器时，需要配置以下信息：

服务器名称是必填项，用于标识这个 MCP 服务器。命令是必填项，指定启动 MCP 服务器的命令，比如 npx 或 python。参数是命令的参数列表，可以添加多个参数。

环境变量是可选的，可以为 MCP 服务器设置环境变量。每个环境变量包含一个键和一个值。

超时时间用于设置服务器的响应超时时间，单位是毫秒。启用开关用于控制是否启用这个 MCP 服务器。

添加远程 MCP 服务器时，需要配置服务器 URL 和可选的请求头。URL 是必填项，指定远程服务器的地址。Headers 是可选的，可以添加认证信息等。

从预设添加 MCP 服务器时，软件提供了多个常用的 MCP 服务器模板，包括 Context7、Sentry、Sequential Thinking 等。选择一个预设后，软件会自动填充配置信息。

Oh My MCP 功能用于管理 Oh My OpenCode 内置的三个 MCP 服务器：websearch（网页搜索）、context7（上下文搜索）、grep_app（代码搜索）。这些服务器的配置保存在 oh-my-opencode.json 文件中。

点击 Oh My MCP 按钮后，会打开一个对话框，显示三个内置服务器的状态。可以通过开关按钮启用或禁用这些服务器。配置会自动保存。

## Agent 配置

Agent 配置页面用于管理 OpenCode 的智能代理。Agent 是 OpenCode 的核心功能，负责执行各种任务。

页面顶部的工具栏提供了添加、从预设添加和刷新功能。

Agent 列表以表格形式展示，显示 Agent 名称、模式、温度、最大步数等信息。

添加或编辑 Agent 时，需要配置以下信息：

Agent 名称是必填项，用于标识这个 Agent。模式需要从下拉列表中选择，支持 primary（主要）、subagent（子代理）、all（全部）三种模式。

温度参数控制 Agent 的输出随机性，范围是 0 到 2。较低的温度会产生更确定的输出，较高的温度会产生更多样化的输出。

最大步数限制 Agent 执行任务的步骤数量。隐藏选项用于控制是否在界面中隐藏这个 Agent。禁用选项用于临时禁用这个 Agent。

工具权限配置用于指定 Agent 可以使用哪些工具。可以从工具列表中选择多个工具。

从预设添加 Agent 时，软件提供了多个常用的 Agent 模板，包括 build、plan、explore、code-reviewer 等。这些模板已经配置好了推荐的参数和工具权限。

## Oh My Agent

Oh My Agent 页面用于管理 Oh My OpenCode 的智能代理。这些 Agent 的配置保存在 oh-my-opencode.json 文件中。

页面顶部的工具栏提供了添加、从预设添加和刷新功能。

Agent 列表以表格形式展示，显示 Agent 名称、Provider、Model 等信息。

添加或编辑 Oh My Agent 时，需要配置以下信息：

Agent 名称是必填项。Provider 需要从下拉列表中选择，列表中包含了所有已配置的 Provider。Model 需要从下拉列表中选择，列表中包含了选中 Provider 下的所有模型。

从预设添加 Agent 时，软件提供了多个模板，包括 oracle、librarian、explore、frontend-ui-ux-engineer、document-writer 等。

## Category 管理

Category 管理页面用于配置 Oh My OpenCode 的分类设置。每个 Category 可以设置不同的温度参数。

页面顶部的工具栏提供了添加和刷新功能。

Category 列表以表格形式展示，显示分类名称和温度值。

添加或编辑 Category 时，需要填写分类名称和温度值。温度值通过滑块调节，范围是 0 到 2。

## 权限管理

权限管理页面用于配置 OpenCode 的权限控制。可以设置哪些操作需要用户确认。

页面提供了多个权限选项，每个选项都有一个开关按钮。启用某个权限后，OpenCode 在执行对应操作时会要求用户确认。

常见的权限包括文件读写权限、网络访问权限、命令执行权限等。

修改权限设置后，点击保存按钮即可保存配置。

## Skill 管理

Skill 管理页面用于管理 OpenCode 的技能扩展。Skill 是 OpenCode 的插件系统，可以扩展 OpenCode 的功能。

页面顶部的工具栏提供了多个功能。安装 Skill 按钮用于从 GitHub 或本地安装 Skill。Skill 市场按钮打开内置的 Skill 市场。检查更新按钮用于检查所有已安装 Skill 的更新。刷新按钮用于重新加载 Skill 列表。

Skill 列表以表格形式展示，显示 Skill 名称、版本、来源、安装位置等信息。

安装 Skill 时，可以选择从 GitHub 安装或从本地导入。

从 GitHub 安装时，需要输入 GitHub 仓库地址。支持两种格式：简写格式（user/repo）和完整 URL（https://github.com/user/repo）。选择安装位置后，点击安装按钮即可开始安装。

安装位置有四个选项：OpenCode 全局、OpenCode 项目、Claude 全局、Claude 项目。全局安装会将 Skill 安装到用户目录，项目安装会将 Skill 安装到当前项目目录。

从本地导入时，需要选择本地的 Skill 目录。软件会自动验证目录中是否包含有效的 SKILL.md 文件。

Skill 市场提供了多个精选的 Skill，按功能分类展示。可以通过搜索框快速查找需要的 Skill。点击某个 Skill 后，可以查看详细信息并一键安装。

检查更新功能会遍历所有已安装的 Skill，通过 GitHub API 检查是否有新版本。如果有更新，可以选择性地批量更新。

## Rules 管理

Rules 管理页面用于配置 OpenCode 的规则。Rules 可以定义一些自动化的行为规则。

页面顶部的工具栏提供了添加和刷新功能。

Rules 列表以表格形式展示，显示规则的模式、来源等信息。

添加或编辑 Rule 时，需要配置以下信息：

模式是必填项，用于匹配文件路径。可以使用通配符，比如 *.py 匹配所有 Python 文件。

来源可以选择文件路径或直接输入内容。如果选择文件路径，需要指定规则文件的位置。如果选择直接输入，可以在文本框中编写规则内容。

## 上下文压缩

上下文压缩页面用于配置 OpenCode 的上下文压缩功能。上下文压缩可以减少发送给 AI 模型的上下文长度，节省 Token 消耗。

页面提供了压缩策略的配置选项。可以设置压缩阈值、压缩比例等参数。

启用上下文压缩后，OpenCode 会在上下文超过阈值时自动进行压缩。

## 外部导入

外部导入页面用于从其他 AI 编程工具导入配置。支持从 Claude Code、Codex、Gemini、cc-switch 等工具导入。

页面顶部有一个下拉列表，用于选择要导入的工具类型。

选择工具类型后，软件会自动检测该工具的配置文件位置。如果检测到配置文件，会显示配置文件的路径和内容预览。

配置预览区域会显示将要导入的配置内容。可以查看 Provider、Model 等信息。

确认无误后，点击导入按钮即可将配置导入到 OpenCode。软件会自动转换配置格式，并合并到现有配置中。

## CLI 工具导出

CLI 工具导出页面用于将 OpenCode 的配置导出到其他 CLI 工具。支持导出到 Claude Code、Codex、Gemini 等工具。

页面采用标签页布局，每个标签页对应一个 CLI 工具。

Claude Code 标签页提供了完整的配置导出功能。可以配置主模型、Haiku 模型、Sonnet 模型、Opus 模型四个模型字段。每个字段都可以从下拉列表中选择，也可以手动输入自定义模型名称。

Base URL 可以临时修改，用于导出时使用，不会影响原始配置。

通用配置选项用于控制是否写入通用配置。如果启用，可以点击编辑按钮配置通用参数。

配置完成后，点击导出按钮即可生成配置文件。软件会显示两个文件的预览：auth.json 和 config.toml。

预览区域提供了语法高亮和格式化功能。可以点击格式化按钮美化 JSON 代码。

确认无误后，点击保存按钮即可将配置文件保存到 Claude Code 的配置目录。

Codex 和 Gemini 标签页的操作流程类似，只是配置文件的格式和字段有所不同。

## 监控

监控页面用于实时监控 OpenCode 的运行状态。可以查看 API 调用情况、Token 使用情况等信息。

页面顶部有一个启动/停止按钮，用于控制监控功能的开关。默认情况下监控功能是关闭的，需要手动启动。

启动监控后，软件会开始收集 OpenCode 的运行数据，并以图表形式展示。

监控数据包括 API 调用次数、Token 消耗量、响应时间等指标。这些数据可以帮助你了解 OpenCode 的使用情况，优化配置。

## 帮助说明

帮助说明页面提供了软件的使用帮助和常见问题解答。

页面包含了软件的基本介绍、功能说明、配置指南等内容。

还提供了项目的 GitHub 链接、问题反馈链接等，方便用户获取更多帮助。

## 备份管理

备份管理功能可以通过首页的备份管理按钮打开。

备份管理对话框显示了所有历史备份的列表，包括备份时间、备份标签、文件路径等信息。

可以选择某个备份，点击恢复按钮即可恢复到该备份的状态。

软件会在每次保存配置时自动创建备份，确保配置安全。备份文件保存在配置目录的 backups 子目录中。

## 配置文件说明

OpenCode Config Manager 管理两个主要的配置文件：

opencode.json 是 OpenCode 的主配置文件，包含 Provider、Model、MCP、Agent、Permission、Skill、Rules 等配置。

oh-my-opencode.json 是 Oh My OpenCode 的配置文件，包含 Oh My Agent、Category、Oh My MCP 等配置。

这两个文件都位于用户目录下的 .config/opencode 文件夹中。具体路径因操作系统而异：

Windows 系统的路径是 C:\Users\用户名\.config\opencode\

macOS 和 Linux 系统的路径是 ~/.config/opencode/

软件会自动检测和加载这些配置文件。如果配置文件不存在，软件会创建默认的配置文件。

## 使用建议

首次使用时，建议按照以下顺序配置：

第一步，在 Provider 管理或原生 Provider 页面添加 API 提供商，配置 API Key。

第二步，在 Model 管理页面添加要使用的 AI 模型，关联到对应的 Provider。

第三步，根据需要在 MCP 服务器页面添加工具服务器，扩展 AI 的能力。

第四步，在 Agent 配置页面配置智能代理，设置合适的参数和工具权限。

第五步，在权限管理页面配置权限控制，确保安全性。

配置完成后，可以在 OpenCode 中使用这些配置。如果需要修改配置，随时可以打开 OpenCode Config Manager 进行调整。

建议定期使用备份管理功能查看和管理配置备份，以防配置丢失。

如果需要在多台设备间同步配置，可以使用外部导入和 CLI 工具导出功能，将配置导出后在其他设备上导入。

## 常见问题

如果软件无法启动，请检查是否安装了 Python 3.11 及以上版本，以及是否安装了必要的依赖包。

如果配置文件加载失败，可能是配置文件格式错误。软件启动时会自动检测并提示修复。

如果 API Key 配置后无法使用，请检查 API Key 是否正确，以及网络连接是否正常。

如果遇到其他问题，可以访问项目的 GitHub 页面提交 Issue，或查看帮助说明页面获取更多信息。

## 总结

OpenCode Config Manager 提供了完整的可视化配置管理功能，大大简化了 OpenCode 的配置过程。通过图形界面，你可以轻松管理各种配置项，无需手动编辑 JSON 文件。

软件支持多语言界面，跨平台运行，内置智能验证和备份功能，是 OpenCode 用户的理想配置工具。

希望这份使用指南能帮助你快速上手 OpenCode Config Manager，充分发挥 AI 编程助手的能力。
