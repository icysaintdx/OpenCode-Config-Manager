# æ·»åŠ æ›´å¤šå¹³å°æ”¯æŒè®¡åˆ’

## ç›®æ ‡å¹³å°

### 1. æ™ºè°± GLM (Zhipu AI)
- **å®˜ç½‘**: https://open.bigmodel.cn/
- **API æ–‡æ¡£**: https://open.bigmodel.cn/dev/api
- **æ¨¡å‹ç³»åˆ—**:
  - GLM-4 ç³»åˆ—ï¼šglm-4, glm-4-plus, glm-4-air, glm-4-airx, glm-4-flash
  - GLM-3 ç³»åˆ—ï¼šglm-3-turbo
  - ä»£ç æ¨¡å‹ï¼šcodegeex-4
- **API æ ¼å¼**: OpenAI å…¼å®¹
- **Base URL**: https://open.bigmodel.cn/api/paas/v4/
- **è®¤è¯æ–¹å¼**: API Key (Bearer Token)

### 2. åƒé—® Qwen (é˜¿é‡Œäº‘)
- **å®˜ç½‘**: https://dashscope.aliyuncs.com/
- **API æ–‡æ¡£**: https://help.aliyun.com/zh/dashscope/
- **æ¨¡å‹ç³»åˆ—**:
  - Qwen2.5 ç³»åˆ—ï¼šqwen-max, qwen-plus, qwen-turbo
  - Qwen-Longï¼šqwen-long
  - ä»£ç æ¨¡å‹ï¼šqwen-coder-turbo
- **API æ ¼å¼**: OpenAI å…¼å®¹
- **Base URL**: https://dashscope.aliyuncs.com/compatible-mode/v1
- **è®¤è¯æ–¹å¼**: API Key (Bearer Token)

### 3. ç™¾åº¦æ–‡å¿ƒ (Baidu ERNIE)
- **å®˜ç½‘**: https://cloud.baidu.com/product/wenxinworkshop
- **API æ–‡æ¡£**: https://cloud.baidu.com/doc/WENXINWORKSHOP/index.html
- **æ¨¡å‹ç³»åˆ—**:
  - ERNIE 4.0 ç³»åˆ—ï¼šernie-4.0-8k, ernie-4.0-turbo-8k
  - ERNIE 3.5 ç³»åˆ—ï¼šernie-3.5-8k, ernie-3.5-128k
  - ä»£ç æ¨¡å‹ï¼šernie-code
- **API æ ¼å¼**: è‡ªå®šä¹‰æ ¼å¼ï¼ˆéœ€è¦é€‚é…ï¼‰
- **Base URL**: https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/
- **è®¤è¯æ–¹å¼**: Access Token (éœ€è¦ API Key + Secret Key æ¢å–)

### 4. è®¯é£æ˜Ÿç« (iFlytek Spark)
- **å®˜ç½‘**: https://xinghuo.xfyun.cn/
- **API æ–‡æ¡£**: https://www.xfyun.cn/doc/spark/Web.html
- **æ¨¡å‹ç³»åˆ—**:
  - Spark 4.0 Ultra
  - Spark 3.5 Max
  - Spark Lite
- **API æ ¼å¼**: WebSocket (éœ€è¦ç‰¹æ®Šå¤„ç†)
- **è®¤è¯æ–¹å¼**: APPID + APIKey + APISecret

### 5. æœˆä¹‹æš—é¢ Kimi (Moonshot AI)
- **å®˜ç½‘**: https://platform.moonshot.cn/
- **API æ–‡æ¡£**: https://platform.moonshot.cn/docs/api-reference
- **æ¨¡å‹ç³»åˆ—**:
  - moonshot-v1-8k
  - moonshot-v1-32k
  - moonshot-v1-128k
- **API æ ¼å¼**: OpenAI å…¼å®¹
- **Base URL**: https://api.moonshot.cn/v1
- **è®¤è¯æ–¹å¼**: API Key (Bearer Token)

### 6. é›¶ä¸€ä¸‡ç‰© Yi (01.AI)
- **å®˜ç½‘**: https://platform.lingyiwanwu.com/
- **API æ–‡æ¡£**: https://platform.lingyiwanwu.com/docs
- **æ¨¡å‹ç³»åˆ—**:
  - yi-lightning
  - yi-large
  - yi-medium
  - yi-spark
- **API æ ¼å¼**: OpenAI å…¼å®¹
- **Base URL**: https://api.lingyiwanwu.com/v1
- **è®¤è¯æ–¹å¼**: API Key (Bearer Token)

### 7. MiniMax
- **å®˜ç½‘**: https://www.minimaxi.com/
- **API æ–‡æ¡£**: https://www.minimaxi.com/document/guides/chat-model/V2
- **æ¨¡å‹ç³»åˆ—**:
  - abab6.5s-chat
  - abab6.5g-chat
  - abab6.5t-chat
  - abab5.5s-chat
- **API æ ¼å¼**: OpenAI å…¼å®¹
- **Base URL**: https://api.minimax.chat/v1
- **è®¤è¯æ–¹å¼**: API Key (Bearer Token)

---

## å®ç°ä¼˜å…ˆçº§

### ç¬¬ä¸€æ‰¹ï¼ˆOpenAI å…¼å®¹ï¼Œæ˜“å®ç°ï¼‰
1. âœ… æ™ºè°± GLM - OpenAI å…¼å®¹ï¼Œå›½å†…ä¸»æµ
2. âœ… åƒé—® Qwen - OpenAI å…¼å®¹ï¼Œé˜¿é‡Œäº‘æ”¯æŒ
3. âœ… Kimi - OpenAI å…¼å®¹ï¼Œé•¿ä¸Šä¸‹æ–‡
4. âœ… é›¶ä¸€ä¸‡ç‰© Yi - OpenAI å…¼å®¹
5. âœ… MiniMax - OpenAI å…¼å®¹

### ç¬¬äºŒæ‰¹ï¼ˆéœ€è¦é€‚é…ï¼‰
6. â³ ç™¾åº¦æ–‡å¿ƒ - è‡ªå®šä¹‰ API æ ¼å¼
7. â³ è®¯é£æ˜Ÿç« - WebSocket åè®®

---

## å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆ Aï¼šæ‰©å±•ç°æœ‰ Provider ç³»ç»Ÿï¼ˆæ¨èï¼‰

åœ¨ç°æœ‰çš„ Provider æ·»åŠ å¯¹è¯æ¡†ä¸­ï¼Œæ·»åŠ æ›´å¤šé¢„è®¾é€‰é¡¹ï¼š

```python
# åœ¨ ProviderDialog ä¸­æ·»åŠ é¢„è®¾
PRESET_PROVIDERS = {
    "zhipu": {
        "name": "æ™ºè°± GLM",
        "sdk": "@ai-sdk/openai",
        "baseURL": "https://open.bigmodel.cn/api/paas/v4/",
        "models": ["glm-4", "glm-4-plus", "glm-4-air", "glm-4-flash"],
        "apiKeyField": "ZHIPU_API_KEY"
    },
    "qwen": {
        "name": "åƒé—® Qwen",
        "sdk": "@ai-sdk/openai",
        "baseURL": "https://dashscope.aliyuncs.com/compatible-mode/v1",
        "models": ["qwen-max", "qwen-plus", "qwen-turbo"],
        "apiKeyField": "QWEN_API_KEY"
    },
    "kimi": {
        "name": "Kimi (æœˆä¹‹æš—é¢)",
        "sdk": "@ai-sdk/openai",
        "baseURL": "https://api.moonshot.cn/v1",
        "models": ["moonshot-v1-8k", "moonshot-v1-32k", "moonshot-v1-128k"],
        "apiKeyField": "MOONSHOT_API_KEY"
    },
    "yi": {
        "name": "é›¶ä¸€ä¸‡ç‰© Yi",
        "sdk": "@ai-sdk/openai",
        "baseURL": "https://api.lingyiwanwu.com/v1",
        "models": ["yi-lightning", "yi-large", "yi-medium"],
        "apiKeyField": "YI_API_KEY"
    },
    "minimax": {
        "name": "MiniMax",
        "sdk": "@ai-sdk/openai",
        "baseURL": "https://api.minimax.chat/v1",
        "models": ["abab6.5s-chat", "abab6.5g-chat", "abab6.5t-chat"],
        "apiKeyField": "MINIMAX_API_KEY"
    }
}
```

### æ–¹æ¡ˆ Bï¼šæ·»åŠ å¤–éƒ¨å¯¼å…¥æ”¯æŒ

åœ¨ CLI å¯¼å‡ºé¡µé¢æ·»åŠ "ä»å…¶ä»–å¹³å°å¯¼å…¥"åŠŸèƒ½ï¼š

1. **æ™ºè°± GLM å¯¼å…¥**
   - è¯»å– `~/.zhipu/config.json` æˆ–ç¯å¢ƒå˜é‡ `ZHIPU_API_KEY`
   - è½¬æ¢ä¸º OpenCode Provider æ ¼å¼

2. **åƒé—® Qwen å¯¼å…¥**
   - è¯»å– `~/.qwen/config.json` æˆ–ç¯å¢ƒå˜é‡ `DASHSCOPE_API_KEY`
   - è½¬æ¢ä¸º OpenCode Provider æ ¼å¼

3. **é€šç”¨ç¯å¢ƒå˜é‡å¯¼å…¥**
   - æ‰«æå¸¸è§çš„ API Key ç¯å¢ƒå˜é‡
   - è‡ªåŠ¨è¯†åˆ«å¹³å°å¹¶åˆ›å»º Provider

---

## UI è®¾è®¡

### æ·»åŠ  Provider å¯¹è¯æ¡†æ”¹è¿›

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ  Provider                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©é¢„è®¾:                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å®˜æ–¹å¹³å°                        â”‚   â”‚
â”‚  â”‚   â€¢ Anthropic Claude            â”‚   â”‚
â”‚  â”‚   â€¢ OpenAI                      â”‚   â”‚
â”‚  â”‚   â€¢ Google Gemini               â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚ å›½å†…å¹³å° (æ–°å¢)                 â”‚   â”‚
â”‚  â”‚   â€¢ æ™ºè°± GLM â­                 â”‚   â”‚
â”‚  â”‚   â€¢ åƒé—® Qwen â­                â”‚   â”‚
â”‚  â”‚   â€¢ Kimi (æœˆä¹‹æš—é¢) â­          â”‚   â”‚
â”‚  â”‚   â€¢ é›¶ä¸€ä¸‡ç‰© Yi â­              â”‚   â”‚
â”‚  â”‚   â€¢ MiniMax â­                  â”‚   â”‚
â”‚  â”‚   â€¢ ç™¾åº¦æ–‡å¿ƒ                    â”‚   â”‚
â”‚  â”‚   â€¢ è®¯é£æ˜Ÿç«                    â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚ è‡ªå®šä¹‰                          â”‚   â”‚
â”‚  â”‚   â€¢ è‡ªå®šä¹‰ Provider             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  [å–æ¶ˆ]              [ä¸‹ä¸€æ­¥]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¤–éƒ¨å¯¼å…¥é¡µé¢æ”¹è¿›

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤–éƒ¨å¯¼å…¥                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©å¯¼å…¥æº:                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å®˜æ–¹ CLI å·¥å…·                   â”‚   â”‚
â”‚  â”‚   â€¢ Claude Code                 â”‚   â”‚
â”‚  â”‚   â€¢ Codex                       â”‚   â”‚
â”‚  â”‚   â€¢ Gemini CLI                  â”‚   â”‚
â”‚  â”‚   â€¢ cc-switch                   â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚ å›½å†…å¹³å° (æ–°å¢)                 â”‚   â”‚
â”‚  â”‚   â€¢ æ™ºè°± GLM â­                 â”‚   â”‚
â”‚  â”‚   â€¢ åƒé—® Qwen â­                â”‚   â”‚
â”‚  â”‚   â€¢ Kimi â­                     â”‚   â”‚
â”‚  â”‚   â€¢ é›¶ä¸€ä¸‡ç‰© Yi â­              â”‚   â”‚
â”‚  â”‚   â€¢ MiniMax â­                  â”‚   â”‚
â”‚  â”‚                                 â”‚   â”‚
â”‚  â”‚ é€šç”¨å¯¼å…¥                        â”‚   â”‚
â”‚  â”‚   â€¢ ä»ç¯å¢ƒå˜é‡å¯¼å…¥              â”‚   â”‚
â”‚  â”‚   â€¢ ä»é…ç½®æ–‡ä»¶å¯¼å…¥              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  [å–æ¶ˆ]              [å¯¼å…¥]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°æ­¥éª¤

### é˜¶æ®µ 1ï¼šæ·»åŠ é¢„è®¾ Providerï¼ˆ1-2å°æ—¶ï¼‰

1. åœ¨ `ProviderDialog` ä¸­æ·»åŠ å›½å†…å¹³å°é¢„è®¾
2. æ›´æ–°é¢„è®¾é€‰æ‹© UI
3. æ·»åŠ å¯¹åº”çš„ç¿»è¯‘æ–‡æœ¬
4. æµ‹è¯•é¢„è®¾åˆ›å»ºåŠŸèƒ½

### é˜¶æ®µ 2ï¼šæ·»åŠ å¤–éƒ¨å¯¼å…¥æ”¯æŒï¼ˆ2-3å°æ—¶ï¼‰

1. åˆ›å»ºå¹³å°é…ç½®è§£æå™¨
   - `ZhipuConfigParser`
   - `QwenConfigParser`
   - `KimiConfigParser`
   - `YiConfigParser`
   - `MinimaxConfigParser`

2. å®ç°é…ç½®æ–‡ä»¶è¯»å–
   - è¯»å–å„å¹³å°çš„é…ç½®æ–‡ä»¶
   - è¯»å–ç¯å¢ƒå˜é‡
   - è½¬æ¢ä¸º OpenCode Provider æ ¼å¼

3. æ›´æ–°å¤–éƒ¨å¯¼å…¥ UI
   - æ·»åŠ å¹³å°é€‰æ‹©
   - æ·»åŠ å¯¼å…¥é€»è¾‘
   - æ·»åŠ é”™è¯¯å¤„ç†

### é˜¶æ®µ 3ï¼šæµ‹è¯•ä¸æ–‡æ¡£ï¼ˆ1å°æ—¶ï¼‰

1. æµ‹è¯•æ‰€æœ‰å¹³å°çš„å¯¼å…¥åŠŸèƒ½
2. æ›´æ–°ç”¨æˆ·æ–‡æ¡£
3. æ·»åŠ ä½¿ç”¨ç¤ºä¾‹

---

## å‚è€ƒèµ„æ–™

### cc-switch é¢„è®¾ä¾›åº”å•†ç‰¹ç‚¹

ä» cc-switch README äº†è§£åˆ°çš„ç‰¹ç‚¹ï¼š

1. **å¤šå¹³å°æ”¯æŒ**
   - Claude Codeã€Codexã€Gemini CLI ä¸‰ä¸ªå¹³å°
   - ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç•Œé¢

2. **é¢„è®¾é…ç½®**
   - Google Official (OAuth)
   - PackyCodeï¼ˆç¬¬ä¸‰æ–¹ API æœåŠ¡ï¼‰
   - Customï¼ˆè‡ªå®šä¹‰é…ç½®ï¼‰

3. **å¤šç«¯ç‚¹ç®¡ç†**
   - æ”¯æŒä¸ºæ¯ä¸ª Provider é…ç½®å¤šä¸ªç«¯ç‚¹
   - å¯ä»¥å¿«é€Ÿåˆ‡æ¢ä¸åŒçš„ API æœåŠ¡

4. **4å±‚æ¨¡å‹é…ç½®**
   - Haikuï¼ˆå¿«é€Ÿæ¨¡å‹ï¼‰
   - Sonnetï¼ˆå¹³è¡¡æ¨¡å‹ï¼‰
   - Opusï¼ˆé«˜çº§æ¨¡å‹ï¼‰
   - Customï¼ˆè‡ªå®šä¹‰æ¨¡å‹ï¼‰

5. **æ·±åº¦é“¾æ¥åè®®**
   - `ccswitch://` åè®®
   - ä¸€é”®å¯¼å…¥ Provider é…ç½®
   - é€šè¿‡åˆ†äº«é“¾æ¥å¿«é€Ÿé…ç½®

### å€Ÿé‰´ç‚¹

1. âœ… **é¢„è®¾åˆ†ç±»æ¸…æ™°**
   - å®˜æ–¹å¹³å°
   - ç¬¬ä¸‰æ–¹æœåŠ¡
   - è‡ªå®šä¹‰é…ç½®

2. âœ… **å¤šç«¯ç‚¹æ”¯æŒ**
   - ä¸ºæ¯ä¸ª Provider æ·»åŠ å¤šä¸ª Base URL
   - å¿«é€Ÿåˆ‡æ¢ä¸åŒçš„ API æœåŠ¡å•†

3. âœ… **æ¨¡å‹åˆ†å±‚**
   - æŒ‰æ€§èƒ½/ä»·æ ¼åˆ†ç±»æ¨¡å‹
   - å¿«é€Ÿé€‰æ‹©åˆé€‚çš„æ¨¡å‹

4. â³ **æ·±åº¦é“¾æ¥**
   - å®ç° `occm://` åè®®
   - æ”¯æŒé…ç½®åˆ†äº«

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… ä¿®å¤å¤šè¯­è¨€å›¾æ ‡æ˜¾ç¤ºé—®é¢˜
2. ğŸ”„ å®ç°é˜¶æ®µ 1ï¼šæ·»åŠ å›½å†…å¹³å°é¢„è®¾
3. â³ å®ç°é˜¶æ®µ 2ï¼šæ·»åŠ å¤–éƒ¨å¯¼å…¥æ”¯æŒ
4. â³ å®ç°é˜¶æ®µ 3ï¼šæµ‹è¯•ä¸æ–‡æ¡£
